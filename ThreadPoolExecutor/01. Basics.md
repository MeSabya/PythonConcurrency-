# Python ThreadPoolExecutor – Notes

## 1. What it is

- Part of concurrent.futures module.
- High-level abstraction to run callables concurrently using threads.

Handles:
  - Thread creation
  - Task scheduling
  - Result collection
  - Thread shutdown/joining

## 2. Key Concepts


### Worker threads
A fixed number of threads (max_workers) are spawned internally.
Threads sit idle waiting for tasks.

### Task queue
Tasks submitted via submit() go into an internal queue.
Worker threads pull tasks from the queue and execute them.

### Future objects
submit() returns a Future, which represents the pending result.

Methods:

  - .result() → blocks until result is ready
  - .done() → check if finished
  - .exception() → get raised exception
  - .add_done_callback() → execute callback when done

### Shutdown
executor.shutdown(wait=True) ensures all tasks complete and threads are joined.

### 3. Typical Usage

```python
from concurrent.futures import ThreadPoolExecutor, as_completed

def work(x):
    return x * 2

with ThreadPoolExecutor(max_workers=3) as executor:
    futures = [executor.submit(work, i) for i in range(5)]
    for fut in as_completed(futures):
        print(fut.result())
```


  - submit: schedule tasks
  - as_completed: iterate as tasks finish
  - Threads are reused for multiple tasks (efficient)
